# Консольное .NET приложение для склада

- Скриншоты работы программы и тестов а так же диаграммы и таблицы базы данных представлены в [вики](https://github.com/Hyperkek/test_task/wiki), для представления таблиц и диаграмм был использован `DBeaver`.

## Описание
Консольное приложение на C# .NET для учета складских паллет и коробок с использованием:
- Entity Framework Core
- SQLite
- .NET 6+

## Основные сущности

### `ThreeDObject` (базовый класс)
- Абстрактный класс для всех объектов склада

### `Box` (коробка)
- Наследует `ThreeDObject` и описывает сущность коробки

### `Pallet` (паллета)
- Наследует `ThreeDObject` и описывает сущность паллеты

### `WarehouseContext` (контекст бд)
- Наследует от DbContext в Entity Framework Core и осуществляет связь классов и базы данных

### `Warehouse` (логика сохранения и чтения из бд)
- использует `WarehouseContext` и осуществляет запись новых данных и чтение данных с последующей сортировкой для вывода.

## Функционал

### Основные возможности
1. Загрузка данных происходит из базы данных.
2. У коробки:
  - Указывается дата и срок годности, если нет срока годности он вычисляется от даты производства +100 дней, если нет      никакой даты выдается ошибка что должна быть хоть одна.
  - Рассчитывается объём как произведение ширины, высоты и глубины.
3. У паллеты
   - Срок годности считается по минимальному из коробок.
   - Вес считается из суммы всех коробок плюс 30 кг.
   - объём считается из суммы всех коробок плюс объём самого паллета.
   - Коробки помещаемые в паллету не могут превышать размер паллеты.
4. Вывод в консоль:
   - Группировка паллет по сроку годности с сортировкой групп по дате истечения ярока годности и внутри групп по весу
   - Топ-3 паллеты с наибольшим сроком хранения с сортировкой по объему
   - При выводе данные конвертируются в метры кубические и килограммы.

## Запуск
1. Проект настроен для быстрого запуска в Visual Studio с установленным .NET версии 6+.
2. База сохранена в папке проекта в файле `warehouse.db` и чтение данных производится оттуда.
3. Есть возможность очистки, пересоздания и загрузки новых данных в бд (закомментировано так как производится только чтение).
4. Результаты выводятся в консоль согласно ТЗ.

Для запуска нужно открыть файл `consoleNET.sln` через Visual Studio.

## unit-тестирование
- Были добавлены тесты проверяющие функционал и валидацию данных.
  - на нулевые значения габаритов
  - что дата истечения срока годности не может быть раньше даты производства
  - что коробка не может быть больше паллета
  - что коробка уже в этом паллете
  - что коробка уже в другом паллете
  - тест рассчета корректной даты истечения при null значении
  - тест корректности конструктора коробки
  - тест корректности вычисления срока истечения для паллеты
  - тест что ни одна дата (производства/годности) не введена и это вызывает корректную ошибку
